{"ast":null,"code":"import { getToken } from \"./token\";\nexport default class Api {\n  constructor(baseUrl, headers) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  _handleResponse(response) {\n    return response.ok ? response.json().then(data => data.data || data) // Extrae data si existe\n    : Promise.reject(\"Error en la solicitud\");\n  }\n  getUsers() {\n    return fetch(`${this.baseUrl}users/me`, {\n      method: \"GET\",\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      }\n    }).then(this._handleResponse);\n  }\n  getCards() {\n    return fetch(`${this.baseUrl}cards`, {\n      method: \"GET\",\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      }\n    }).then(this._handleResponse);\n  }\n  editUser(name, about) {\n    return fetch(`${this.baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._handleResponse);\n  }\n  createCard(card) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: \"POST\",\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      },\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link\n      })\n    }).then(this._handleResponse);\n  }\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(`${this.baseUrl}cards/${cardId}/likes`, {\n      method: method,\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      }\n    }).then(this._handleResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      }\n    }).then(this._handleResponse);\n  }\n  editAvatar(data) {\n    return fetch(`${this.baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        ...this.headers,\n        authorization: getToken()\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._handleResponse);\n  }\n}\nexport const api = new Api(\"https://webprojectapifull-production.up.railway.app/\", {\n  \"Content-Type\": \"application/json\"\n});","map":{"version":3,"names":["getToken","Api","constructor","baseUrl","headers","_handleResponse","response","ok","json","then","data","Promise","reject","getUsers","fetch","method","authorization","getCards","editUser","name","about","body","JSON","stringify","createCard","card","link","changeLikeCardStatus","cardId","isLiked","deleteCard","editAvatar","avatar","api"],"sources":["/Users/mayespitia/Tripleten career/web_project_api_full/src/utils/Api.js"],"sourcesContent":["import { getToken } from \"./token\";\n\nexport default class Api {\n    constructor(baseUrl, headers) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    _handleResponse(response) {\n        return response.ok\n            ? response.json().then((data) => data.data || data) // Extrae data si existe\n            : Promise.reject(\"Error en la solicitud\");\n    }\n    getUsers() {\n        return fetch(`${this.baseUrl}users/me`, {\n            method: \"GET\",\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n        }).then(this._handleResponse);\n    }\n    getCards() {\n        return fetch(`${this.baseUrl}cards`, {\n            method: \"GET\",\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n        }).then(this._handleResponse);\n    }\n    editUser(name, about) {\n        return fetch(`${this.baseUrl}users/me`, {\n            method: \"PATCH\",\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n            body: JSON.stringify({\n                name,\n                about,\n            }),\n        }).then(this._handleResponse);\n    }\n    createCard(card) {\n        return fetch(`${this.baseUrl}cards`, {\n            method: \"POST\",\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n            body: JSON.stringify({\n                name: card.name,\n                link: card.link,\n            }),\n        }).then(this._handleResponse);\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        const method = isLiked ? \"DELETE\" : \"PUT\";\n        return fetch(`${this.baseUrl}cards/${cardId}/likes`, {\n            method: method,\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n        })\n            .then(this._handleResponse);\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.baseUrl}cards/${cardId}`, {\n            method: \"DELETE\",\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n        }).then(this._handleResponse);\n    }\n    editAvatar(data) {\n        return fetch(`${this.baseUrl}users/me/avatar`, {\n            method: \"PATCH\",\n            headers: {\n                ...this.headers,\n                authorization: getToken(),\n            },\n            body: JSON.stringify({\n                avatar: data.avatar,\n            }),\n        }).then(this._handleResponse);\n    }\n}\nexport const api = new Api(\"https://webprojectapifull-production.up.railway.app/\", {\n    \"Content-Type\": \"application/json\",\n});\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}